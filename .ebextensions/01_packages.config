# .ebextensions/01_packages.config

commands:
  01_install_tesseract:
    # Directly install tesseract from the repository URL to bypass metadata/trust issues
    # This ensures it is installed even if dnf repository registration fails.
    command: "sudo dnf install -y https://dl.fedoraproject.org/pub/fedora/linux/releases/39/Everything/x86_64/os/Packages/t/tesseract-5.3.3-2.fc39.x86_64.rpm https://dl.fedoraproject.org/pub/fedora/linux/releases/39/Everything/x86_64/os/Packages/t/tesseract-devel-5.3.3-2.fc39.x86_64.rpm --nogpgcheck"
    ignoreErrors: true
  02_install_langpack:
    command: "sudo dnf install -y https://dl.fedoraproject.org/pub/fedora/linux/releases/39/Everything/x86_64/os/Packages/t/tesseract-langpack-eng-5.3.3-2.fc39.noarch.rpm --nogpgcheck"
    ignoreErrors: true

packages:
  yum:
    # Essential build tools and libraries
    gcc: []
    gcc-c++: []
    python3-devel: []
    poppler-utils: []
    mesa-libGL: []
    libSM: []
    libXrender: []
    libXext: []